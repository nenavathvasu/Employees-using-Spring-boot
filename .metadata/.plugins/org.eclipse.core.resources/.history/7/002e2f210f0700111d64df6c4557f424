package com.sathya.Repository;

import java.util.List;
import java.util.Optional;

import org.springframework.data.jpa.repository.JpaRepository;
import org.springframework.data.jpa.repository.Query;
import org.springframework.data.repository.query.Param;

import com.sathya.Model.Employee;

public interface EmployeeRepository extends JpaRepository<Employee, Long> {

    // Email
    Optional<Employee> findByEmail(String email);

    // Salary
    List<Employee> findBySalaryGreaterThanEqual(double minSalary);
    List<Employee> findBySalaryLessThanEqual(double maxSalary);
    List<Employee> findBySalaryBetween(double minSalary, double maxSalary);

    // Gender & Salary
    List<Employee> findBySalaryGreaterThanOrGender(double salary, String gender);
    List<Employee> findByGenderAndSalaryGreaterThan(String gender, double minSalary);
    List<Employee> findByGenderOrSalaryBetween(String gender, double minSalary, double maxSalary);

    // Sorting
    List<Employee> findAllByOrderBySalaryAsc();
    List<Employee> findAllByOrderBySalaryDesc();

    // Name
    List<Employee> findByNameIgnoreCase(String name);
    List<Employee> findByNameContaining(String keyword);
    
    @Query("SELECT e FROM Employee e " +
            "WHERE e.dept = :dept " +
            "AND e.gender = :gender " +
            "AND e.salary BETWEEN :minSalary AND :maxSalary")
     List<Employee> findEmployeesByDeptGenderAndSalaryRange(
             @Param("dept") String dept,
             @Param("gender") String gender,
             @Param("minSalary") double minSalary,
             @Param("maxSalary") double maxSalary
     );
    
    
    
    
}
